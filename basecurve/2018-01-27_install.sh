#!/bin/sh
# to test your new basecurve, copy/paste the following line into your shell.
# note that it is a smart idea to backup your database before messing with it on this level.
# (you have been warned :) )

echo "INSERT INTO presets (name,description,operation,op_version,op_params,enabled,blendop_params,blendop_version,multi_priority,multi_name,model,maker,lens,iso_min,iso_max,exposure_min,exposure_max,aperture_min,aperture_max,focal_length_min,focal_length_max,writeprotect,autoapply,filter,def,format) VALUES('NIKON D5100 2018-01-27 BC','','basecurve',2,X'00000000000000006fd2063cccd5ea3b590cb33c5cc0eb3cb3b1423dada6b53dddedbc3df31d4a3e497f433e0f2ccc3ef78b8c3eaaab083f9d91b63ea27b263f9443f43e39c1473f58be0a3f894e553f21914c3fd118793f0000803f0000803f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000020000000000000000000000',1,X'00000000180000000000C842000000000000000000000000000000000000000000000000000000000000000000000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F',7,0,'','%','%','%',0.0,340282346638528859812000000000000000000,0.0,10000000.0,0.0,100000000.0,0.0,1000.0,0,0,0,0,2);" | sqlite3 ~/.config/darktable/data.db



# if it pleases you, then in iop/basecurve.c append the following line to the array basecurve_presets and modify its name
# {"NIKON D5100", "NIKON CORPORATION", "NIKON D5100", 0, FLT_MAX, {{{{0.000000, 0.000000}, {0.008229, 0.007167}, {0.021856, 0.028778}, {0.047533, 0.088697}, {0.092251, 0.197380}, {0.190915, 0.398774}, {0.274505, 0.533869}, {0.356580, 0.650324}, {0.477078, 0.780292}, {0.541967, 0.833230}, {0.799089, 0.973035}, {1.000000, 1.000000}}}, {12}, {m}}, 0, 1},


#!/bin/sh
# to test your new tonecurve, copy/paste the following line into your shell.
# note that it is a smart idea to backup your database before messing with it on this level.

echo "INSERT INTO presets (name,description,operation,op_version,op_params,enabled,blendop_params,blendop_version,multi_priority,multi_name,model,maker,lens,iso_min,iso_max,exposure_min,exposure_max,aperture_min,aperture_max,focal_length_min,focal_length_max,writeprotect,autoapply,filter,def,format) VALUES('NIKON D5100 2018-01-27 TC','','tonecurve',4,X'000000000000000067c60c3b29022f3b0393bd3b7ac9573bdb39c03c13b09b3c14be823dd4395c3de771b43d5a42a93d6c28203ea9ee3c3e8d18893e4187bd3e4e75da3eed21193f7000f13e3927273f0a263e3f87cd673f0000803f0000803f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000abaaaa3dabaaaa3dabaa2a3eabaa2a3e0000803e0000803eabaaaa3eabaaaa3e5555d53e5555d53e0000003f0000003f5555153f5555153fabaa2a3fabaa2a3f0000403f0000403f5555553f5555553fabaa6a3fabaa6a3f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000abaaaa3dabaaaa3dabaa2a3eabaa2a3e0000803e0000803eabaaaa3eabaaaa3e5555d53e5555d53e0000003f0000003f5555153f5555153fabaa2a3fabaa2a3f0000403f0000403f5555553f5555553fabaa6a3fabaa6a3f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000c0000000c000000020000000200000002000000010000000000000000000000',1,X'00000000180000000000C842000000000000000000000000000000000000000000000000000000000000000000000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F00000000000000000000803F0000803F',7,0,'','%','%','%',0.0,340282346638528859812000000000000000000,0.0,10000000.0,0.0,100000000.0,0.0,1000.0,0,0,0,0,2);" | sqlite3 ~/.config/darktable/data.db



# if it pleases you, then in iop/tonecurve.c append the following line to the array preset_camera_curves and modify its name
# {"NIKON D5100", "NIKON CORPORATION", "NIKON D5100", 0, FLT_MAX, {{{{0.000000, 0.000000}, {0.002148, 0.002670}, {0.005785, 0.003293}, {0.023465, 0.019005}, {0.063839, 0.053766}, {0.088108, 0.082646}, {0.156404, 0.184504}, {0.267765, 0.370173}, {0.426676, 0.598174}, {0.470706, 0.652942}, {0.742768, 0.905480}, {1.000000, 1.000000}, },{{0.000000, 0.000000}, {0.083333, 0.083333}, {0.166667, 0.166667}, {0.250000, 0.250000}, {0.333333, 0.333333}, {0.416667, 0.416667}, {0.500000, 0.500000}, {0.583333, 0.583333}, {0.666667, 0.666667}, {0.750000, 0.750000}, {0.833333, 0.833333}, {0.916667, 0.916667}, },{{0.000000, 0.000000}, {0.083333, 0.083333}, {0.166667, 0.166667}, {0.250000, 0.250000}, {0.333333, 0.333333}, {0.416667, 0.416667}, {0.500000, 0.500000}, {0.583333, 0.583333}, {0.666667, 0.666667}, {0.750000, 0.750000}, {0.833333, 0.833333}, {0.916667, 0.916667}, },}, {12, 12, 12}, {2, 2, 2}, 1, 0, 0}},
